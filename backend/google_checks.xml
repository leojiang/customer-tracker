<?xml version="1.0"?>
<!DOCTYPE module PUBLIC
        "-//Checkstyle//DTD Checkstyle Configuration 1.3//EN"
        "https://checkstyle.org/dtds/configuration_1_3.dtd">

<!--
    Practical Checkstyle configuration based on Google Java Style.
    Focuses on important style violations while being reasonable about documentation requirements.
-->

<module name="Checker">
  <property name="charset" value="UTF-8"/>
  <property name="severity" value="warning"/>
  <property name="fileExtensions" value="java, properties, xml"/>

  <!-- Line length check (Google style: 100 chars) -->
  <module name="LineLength">
    <property name="fileExtensions" value="java"/>
    <property name="max" value="100"/>
    <property name="ignorePattern" value="^package.*|^import.*|a href|href|http://|https://|ftp://"/>
  </module>

  <module name="TreeWalker">
    <!-- Imports -->
    <module name="AvoidStarImport"/>
    <module name="RedundantImport"/>
    <module name="UnusedImports"/>

    <!-- Naming Conventions -->
    <module name="PackageName">
      <property name="format" value="^[a-z]+(\.[a-z][a-z0-9]*)*$"/>
    </module>
    <module name="TypeName"/>
    <module name="MethodName"/>
    <module name="ParameterName"/>
    <module name="LocalVariableName"/>
    <module name="MemberName"/>

    <!-- Javadoc - Only for public classes and complex methods -->
    <module name="MissingJavadocType">
      <property name="scope" value="public"/>
      <property name="excludeScope" value="nothing"/>
    </module>
    <module name="MissingJavadocMethod">
      <property name="scope" value="public"/>
      <property name="minLineCount" value="3"/>
      <property name="allowedAnnotations" value="Override, Test, Bean, Autowired"/>
    </module>
    <module name="SummaryJavadoc"/>

    <!-- Code Structure -->
    <module name="NeedBraces"/>
    <module name="LeftCurly"/>
    <module name="RightCurly"/>
    <module name="OneStatementPerLine"/>
    
    <!-- Whitespace -->
    <module name="WhitespaceAfter">
      <property name="tokens" value="COMMA, SEMI"/>
    </module>
    <module name="NoWhitespaceAfter">
      <property name="tokens" value="INC, DEC, UNARY_MINUS, UNARY_PLUS, BNOT, LNOT, DOT"/>
    </module>
    <module name="NoWhitespaceBefore">
      <property name="tokens" value="COMMA, SEMI, POST_INC, POST_DEC"/>
    </module>

    <!-- Misc -->
    <module name="ArrayTypeStyle"/>
    <module name="UpperEll"/>
    <module name="ModifierOrder"/>
    <module name="EmptyLineSeparator">
      <property name="allowNoEmptyLineBetweenFields" value="true"/>
    </module>

    <!-- Abbreviations -->
    <module name="AbbreviationAsWordInName">
      <property name="allowedAbbreviationLength" value="1"/>
    </module>
  </module>
</module>